<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Dashboard - BRAVE X FIT</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/feather-icons"></script>
</head>
<body class="bg-gray-50">
    <nav class="bg-white shadow-md">
        <div class="container mx-auto px-6 py-3">
            <div class="flex items-center justify-between">
                <div class="flex items-center">
                    <i data-feather="activity" class="text-orange-500 h-8 w-8 mr-2"></i>
                    <span class="text-xl font-bold text-gray-800">BRAVE X FIT - Dashboard</span>
                </div>
                <div class="flex items-center space-x-4">
                    <span id="userName" class="text-gray-700">Welcome, User!</span>
                    <button onclick="logout()" class="text-gray-600 hover:text-orange-500">Logout</button>
                </div>
            </div>
        </div>
    </nav>

    <div class="container mx-auto px-6 py-8">
        <div class="grid grid-cols-1 lg:grid-cols-4 gap-6">
            <!-- Sidebar -->
            <div class="lg:col-span-1">
                <div class="bg-white rounded-lg shadow-md p-6">
                    <nav class="space-y-2">
                        <button class="tab-btn w-full text-left p-3 bg-orange-500 text-white rounded" data-tab="bookings">
                            <i data-feather="calendar" class="inline mr-2"></i>My Bookings
                        </button>
                        <button class="tab-btn w-full text-left p-3 bg-gray-100 rounded" data-tab="profile">
                            <i data-feather="user" class="inline mr-2"></i>Profile
                        </button>
                        <button class="tab-btn w-full text-left p-3 bg-gray-100 rounded" data-tab="payments">
                            <i data-feather="credit-card" class="inline mr-2"></i>Payments
                        </button>
                        <button class="tab-btn w-full text-left p-3 bg-gray-100 rounded" data-tab="progress">
                            <i data-feather="trending-up" class="inline mr-2"></i>Progress
                        </button>
                    </nav>
                </div>
            </div>

            <!-- Main Content -->
            <div class="lg:col-span-3">
                <!-- Bookings Tab -->
                <div id="bookings" class="tab-content">
                    <div class="bg-white rounded-lg shadow-md p-6">
                        <h2 class="text-2xl font-bold mb-6">My Bookings</h2>
                        <div id="bookingsList" class="space-y-4">
                            <!-- Bookings will be loaded here -->
                        </div>
                    </div>
                </div>

                <!-- Profile Tab -->
                <div id="profile" class="tab-content hidden">
                    <div class="bg-white rounded-lg shadow-md p-6">
                        <h2 class="text-2xl font-bold mb-6">Profile Settings</h2>
                        <form class="space-y-4">
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div>
                                    <label class="block text-gray-700 mb-2">Full Name</label>
                                    <input type="text" class="w-full p-3 border rounded-lg" value="John Doe">
                                </div>
                                <div>
                                    <label class="block text-gray-700 mb-2">Email</label>
                                    <input type="email" class="w-full p-3 border rounded-lg" value="john@example.com">
                                </div>
                                <div>
                                    <label class="block text-gray-700 mb-2">Phone</label>
                                    <input type="tel" class="w-full p-3 border rounded-lg" value="9876543210">
                                </div>
                                <div>
                                    <label class="block text-gray-700 mb-2">Emergency Contact</label>
                                    <input type="tel" class="w-full p-3 border rounded-lg" value="9123456780">
                                </div>
                            </div>
                            <button type="submit" class="bg-orange-500 text-white px-6 py-3 rounded-lg">Update Profile</button>
                        </form>
                    </div>
                </div>

                <!-- Payments Tab -->
                <div id="payments" class="tab-content hidden">
                    <div class="bg-white rounded-lg shadow-md p-6">
                        <h2 class="text-2xl font-bold mb-6">Payment History</h2>
                        <div id="paymentsList">
                            <!-- Payments will be loaded here -->
                        </div>
                    </div>
                </div>

                <!-- Progress Tab -->
                <div id="progress" class="tab-content hidden">
                    <div class="bg-white rounded-lg shadow-md p-6">
                        <h2 class="text-2xl font-bold mb-6">Fitness Progress</h2>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-6">
                            <div class="bg-orange-50 p-4 rounded-lg text-center">
                                <div class="text-2xl font-bold text-orange-500">12</div>
                                <div class="text-gray-600">Sessions Completed</div>
                            </div>
                            <div class="bg-green-50 p-4 rounded-lg text-center">
                                <div class="text-2xl font-bold text-green-500">5kg</div>
                                <div class="text-gray-600">Weight Loss</div>
                            </div>
                            <div class="bg-blue-50 p-4 rounded-lg text-center">
                                <div class="text-2xl font-bold text-blue-500">85%</div>
                                <div class="text-gray-600">Attendance</div>
                            </div>
                        </div>
                        <div id="progressChart" class="h-64 bg-gray-100 rounded-lg flex items-center justify-center">
                            Progress Chart Area
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Sample user data
        const userData = {
            name: "John Doe",
            email: "john@example.com",
            phone: "9876543210"
        };

        const bookings = [
            {
                id: 1,
                program: "UFC Training",
                date: "2024-12-20",
                time: "18:00-19:00",
                status: "confirmed",
                amount: 2360
            },
            {
                id: 2,
                program: "Zumba Classes",
                date: "2024-12-22",
                time: "19:00-19:45",
                status: "completed",
                amount: 1770
            }
        ];

        // Initialize dashboard
        document.getElementById('userName').textContent = `Welcome, ${userData.name}!`;
        loadBookings();
        loadPayments();

        // Tab functionality
        document.querySelectorAll('.tab-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                // Update active tab button
                document.querySelectorAll('.tab-btn').forEach(b => {
                    b.classList.remove('bg-orange-500', 'text-white');
                    b.classList.add('bg-gray-100');
                });
                this.classList.add('bg-orange-500', 'text-white');
                this.classList.remove('bg-gray-100');

                // Show selected tab content
                const tabId = this.dataset.tab;
                document.querySelectorAll('.tab-content').forEach(content => {
                    content.classList.add('hidden');
                });
                document.getElementById(tabId).classList.remove('hidden');
            });
        });

        function loadBookings() {
            const container = document.getElementById('bookingsList');
            container.innerHTML = bookings.map(booking => `
                <div class="border rounded-lg p-4 flex justify-between items-center">
                    <div>
                        <h3 class="font-bold">${booking.program}</h3>
                        <p class="text-gray-600">${booking.date} | ${booking.time}</p>
                        <span class="inline-block px-2 py-1 text-xs rounded ${
                            booking.status === 'confirmed' ? 'bg-green-100 text-green-800' : 
                            booking.status === 'completed' ? 'bg-blue-100 text-blue-800' : 'bg-gray-100'
                        }">${booking.status}</span>
                    </div>
                    <div class="text-right">
                        <p class="font-bold">â‚¹${booking.amount}</p>
                        <button onclick="cancelBooking(${booking.id})" class="text-red-500 text-sm">Cancel</button>
                    </div>
                </div>
            `).join('');
        }

        function loadPayments() {
            const container = document.getElementById('paymentsList');
            container.innerHTML = bookings.map(booking => `
                <div class="border-b py-4 flex justify-between items-center">
                    <div>
                        <h3 class="font-bold">${booking.program}</h3>
                        <p class="text-gray-600">${booking.date}</p>
                    </div>
                    <div class="text-right">
                        <p class="font-bold">â‚¹${booking.amount}</p>
                        <p class="text-sm text-green-600">Paid</p>
                    </div>
                </div>
            `).join('');
        }

        function cancelBooking(bookingId) {
            if(confirm('Are you sure you want to cancel this booking?')) {
                // API call to cancel booking
                alert('Booking cancelled successfully!');
                loadBookings();
            }
        }

        function logout() {
            if(confirm('Are you sure you want to logout?')) {
                window.location.href = 'index.html';
            }
        }

        feather.replace();
    </script>
</body>
</html>